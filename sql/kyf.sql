CREATE TABLE IF NOT EXISTS `user` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `user_id` varchar(50) NOT NULL DEFAULT '0',
  `user_name` varchar(50) DEFAULT NULL,
  `trial` tinyint(1) NOT NULL DEFAULT 0,
  `available` float NOT NULL DEFAULT 0,
  `spent` float NOT NULL DEFAULT 0,
  `win` float NOT NULL DEFAULT 0,
  `loss` float NOT NULL DEFAULT 0,
  `awaiting_chl` int(20) NOT NULL DEFAULT 0,
  `win_chl` int(20) NOT NULL DEFAULT 0,
  `loss_chl` int(20) NOT NULL DEFAULT 0,
  `email` varchar(100) DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `user_id` (`user_id`)
);

CREATE TABLE IF NOT EXISTS `question` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `text` varchar(50) NOT NULL,
  `question_id` varchar(50) NOT NULL,
  PRIMARY KEY (`id`)
);

INSERT INTO `question` (`id`, `text`, `question_id`) VALUES
	(1, 'Sample Question 1', 'QUE_001'),
	(2, 'Sample Question 2', 'QUE_002'),
	(3, 'Sample Question 3', 'QUE_003'),
	(4, 'Sample Question 4', 'QUE_004'),
	(5, 'Sample Question 5', 'QUE_005'),
	(6, 'Sample Question 6', 'QUE_006'),
	(7, 'Sample Question 7', 'QUE_007'),
	(8, 'Sample Question 8', 'QUE_008'),
	(9, 'Sample Question 9', 'QUE_009'),
	(10, 'Sample Question 10', 'QUE_010'),
	(11, 'Sample Question 11', 'QUE_011'),
	(12, 'Sample Question 12', 'QUE_012'),
	(13, 'Sample Question 13', 'QUE_013'),
	(14, 'Sample Question 14', 'QUE_014'),
	(15, 'Sample Question 15', 'QUE_015'),
	(16, 'Sample Question 16', 'QUE_016'),
	(17, 'Sample Question 17', 'QUE_017'),
	(18, 'Sample Question 18', 'QUE_018'),
	(19, 'Sample Question 19', 'QUE_019'),
	(20, 'Sample Question 20', 'QUE_020');
	
CREATE TABLE IF NOT EXISTS `options` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `option` varchar(50) NOT NULL DEFAULT '0',
  `option_id` varchar(50) NOT NULL DEFAULT '0',
  `question` bigint(20) NOT NULL DEFAULT 0,
  PRIMARY KEY (`id`),
  KEY `FK_QUESTION` (`question`),
  CONSTRAINT `FK_QUESTION` FOREIGN KEY (`question`) REFERENCES `question` (`id`)
);

INSERT INTO `options` (`id`, `option`, `option_id`, `question`) VALUES
	(1, 'Option 1', 'OPT_001', 1),
	(2, 'Option 2', 'OPT_002', 1),
	(3, 'Option 3', 'OPT_003', 1),
	(4, 'Option 4', 'OPT_004', 1),
	(5, 'Option 1', 'OPT_005', 2),
	(6, 'Option 2', 'OPT_006', 2),
	(7, 'Option 3', 'OPT_007', 2),
	(8, 'Option 4', 'OPT_008', 2),
	(9, 'Option 1', 'OPT_009', 3),
	(10, 'Option 2', 'OPT_010', 3),
	(11, 'Option 3', 'OPT_011', 3),
	(12, 'Option 4', 'OPT_012', 3),
	(13, 'Option 1', 'OPT_013', 4),
	(14, 'Option 2', 'OPT_014', 4),
	(15, 'Option 3', 'OPT_015', 4),
	(16, 'Option 4', 'OPT_016', 4),
	(17, 'Option 1', 'OPT_017', 5),
	(18, 'Option 2', 'OPT_018', 5),
	(19, 'Option 3', 'OPT_019', 5),
	(20, 'Option 4', 'OPT_020', 5),
	(21, 'Option 1', 'OPT_021', 6),
	(22, 'Option 2', 'OPT_022', 6),
	(23, 'Option 3', 'OPT_023', 6),
	(24, 'Option 4', 'OPT_024', 6),
	(25, 'Option 1', 'OPT_025', 7),
	(26, 'Option 2', 'OPT_026', 7),
	(27, 'Option 3', 'OPT_027', 7),
	(28, 'Option 4', 'OPT_028', 7),
	(29, 'Option 1', 'OPT_029', 8),
	(30, 'Option 2', 'OPT_030', 8),
	(31, 'Option 3', 'OPT_031', 8),
	(32, 'Option 4', 'OPT_032', 8),
	(33, 'Option 1', 'OPT_033', 9),
	(34, 'Option 2', 'OPT_034', 9),
	(35, 'Option 3', 'OPT_035', 9),
	(36, 'Option 4', 'OPT_036', 9),
	(37, 'Option 1', 'OPT_037', 10),
	(38, 'Option 2', 'OPT_038', 10),
	(39, 'Option 3', 'OPT_039', 10),
	(40, 'Option 4', 'OPT_040', 10),
	(41, 'Option 1', 'OPT_041', 11),
	(42, 'Option 2', 'OPT_042', 11),
	(43, 'Option 3', 'OPT_043', 11),
	(44, 'Option 4', 'OPT_044', 11),
	(45, 'Option 1', 'OPT_045', 12),
	(46, 'Option 2', 'OPT_046', 12),
	(47, 'Option 3', 'OPT_047', 12),
	(48, 'Option 4', 'OPT_048', 12),
	(49, 'Option 1', 'OPT_049', 13),
	(50, 'Option 2', 'OPT_050', 13),
	(51, 'Option 3', 'OPT_051', 13),
	(52, 'Option 4', 'OPT_052', 13),
	(53, 'Option 1', 'OPT_053', 14),
	(54, 'Option 2', 'OPT_054', 14),
	(55, 'Option 3', 'OPT_055', 14),
	(56, 'Option 4', 'OPT_056', 14),
	(57, 'Option 1', 'OPT_057', 15),
	(58, 'Option 2', 'OPT_058', 15),
	(59, 'Option 3', 'OPT_059', 15),
	(60, 'Option 4', 'OPT_060', 15),
	(61, 'Option 1', 'OPT_061', 16),
	(62, 'Option 2', 'OPT_062', 16),
	(63, 'Option 3', 'OPT_063', 16),
	(64, 'Option 4', 'OPT_064', 16),
	(65, 'Option 1', 'OPT_065', 17),
	(66, 'Option 2', 'OPT_066', 17),
	(67, 'Option 3', 'OPT_067', 17),
	(68, 'Option 4', 'OPT_068', 17),
	(69, 'Option 1', 'OPT_069', 18),
	(70, 'Option 2', 'OPT_070', 18),
	(71, 'Option 3', 'OPT_071', 18),
	(72, 'Option 4', 'OPT_072', 18),
	(73, 'Option 1', 'OPT_073', 19),
	(74, 'Option 2', 'OPT_074', 19),
	(75, 'Option 3', 'OPT_075', 19),
	(76, 'Option 4', 'OPT_076', 19),
	(77, 'Option 1', 'OPT_077', 20),
	(78, 'Option 2', 'OPT_078', 20),
	(79, 'Option 3', 'OPT_079', 20),
	(80, 'Option 4', 'OPT_080', 20);
	
CREATE TABLE IF NOT EXISTS `user_answer` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `user` bigint(20) NOT NULL DEFAULT 0,
  `question` bigint(20) NOT NULL DEFAULT 0,
  `option` bigint(20) NOT NULL DEFAULT 0,
  PRIMARY KEY (`id`),
  KEY `FK_USER` (`user`),
  KEY `FK_USER_QUE` (`question`),
  KEY `FK_USER_ANS` (`option`),
  CONSTRAINT `FK_USER` FOREIGN KEY (`user`) REFERENCES `user` (`id`),
  CONSTRAINT `FK_USER_ANS` FOREIGN KEY (`option`) REFERENCES `options` (`id`),
  CONSTRAINT `FK_USER_QUE` FOREIGN KEY (`question`) REFERENCES `question` (`id`)
);

CREATE TABLE IF NOT EXISTS `user_challenge` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `betting_amount` float NOT NULL DEFAULT 0,
  `win` tinyint(1) DEFAULT NULL,
  `user` bigint(20) NOT NULL DEFAULT 0,
  `user_challenged` bigint(20) DEFAULT NULL,
  `temp_user` varchar(800) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `FK_USER_CHL` (`user`),
  KEY `FK_USER_CHLD` (`user_challenged`),
  CONSTRAINT `FK_USER_CHL` FOREIGN KEY (`user`) REFERENCES `user` (`id`),
  CONSTRAINT `FK_USER_CHLD` FOREIGN KEY (`user_challenged`) REFERENCES `user` (`id`)
);

CREATE TABLE IF NOT EXISTS `bet_answer` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `user_challenge` bigint(20) NOT NULL DEFAULT 0,
  `question` bigint(20) NOT NULL DEFAULT 0,
  `answer` bigint(20) NOT NULL DEFAULT 0,
  `correct_answer` bigint(20) NOT NULL DEFAULT 0,
  PRIMARY KEY (`id`),
  KEY `FK_CHL` (`user_challenge`),
  KEY `FK_CHL_QUE` (`question`),
  KEY `FK_CHL_ANS` (`answer`),
  KEY `FK4_CHL_CRT` (`correct_answer`),
  CONSTRAINT `FK4_CHL_CRT` FOREIGN KEY (`correct_answer`) REFERENCES `options` (`id`),
  CONSTRAINT `FK_CHL` FOREIGN KEY (`user_challenge`) REFERENCES `user_challenge` (`id`),
  CONSTRAINT `FK_CHL_ANS` FOREIGN KEY (`answer`) REFERENCES `options` (`id`),
  CONSTRAINT `FK_CHL_QUE` FOREIGN KEY (`question`) REFERENCES `question` (`id`)
);

CREATE TABLE IF NOT EXISTS `instamojo_trans` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `insta_id` varchar(200) NOT NULL DEFAULT '0',
  `trans_id` varchar(200) NOT NULL DEFAULT '0',
  `user_id` varchar(200) NOT NULL DEFAULT '0',
  `payment_id` varchar(200) DEFAULT NULL,
  `status` varchar(50) NOT NULL DEFAULT 'pending',
  PRIMARY KEY (`id`)
);

CREATE TABLE IF NOT EXISTS `redeem` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `email` varchar(50) NOT NULL DEFAULT '0',
  `amount` float NOT NULL DEFAULT 0,
  `redeem_time` timestamp NOT NULL DEFAULT current_timestamp(),
  `user_id` bigint(20) NOT NULL,
  PRIMARY KEY (`id`),
  KEY `FK_R_USR` (`user_id`),
  CONSTRAINT `FK_R_USR` FOREIGN KEY (`user_id`) REFERENCES `user` (`id`)
);